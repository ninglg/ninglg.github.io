{"pageProps":{"post":{"summary":null,"tags":["Nginx"],"id":"nginx-status-intro","contentHtml":"<p>此篇介绍一下Nginx服务的状态页status相关内容。</p>\n<!-- more -->\n<p>Nginx 内建了一个状态页，对于了解 Nginx 的状态以及监控 Nginx 非常有用。</p>\n<h2>启用状态页</h2>\n<ol>\n<li>修改Nginx配置文件/usr/local/etc/nginx/nginx.conf，增加</li>\n</ol>\n<pre><code>location /status\n{\n    stub_status on;\n    access_log off;\n}\n</code></pre>\n<ol start=\"2\">\n<li>重启Nginx服务使状态页生效</li>\n</ol>\n<blockquote>\n<p>brew services restart nginx</p>\n</blockquote>\n<h2>状态页信息详解</h2>\n<p>访问 <a href=\"http://127.0.0.1:8080/status\">http://127.0.0.1:8080/status</a> 看到</p>\n<pre><code>Active connections: 2 \nserver accepts handled requests\n 5 5 8 \nReading: 0 Writing: 1 Waiting: 1 \n</code></pre>\n<table>\n<thead>\n<tr>\n<th>条目</th>\n<th>含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>active connections</td>\n<td>活跃的连接数量</td>\n</tr>\n<tr>\n<td>server accepts handled requests</td>\n<td>共处理了5个连接 , 成功创建5次握手, 总共处理了8个请求</td>\n</tr>\n<tr>\n<td>reading</td>\n<td>读取客户端的连接数.</td>\n</tr>\n<tr>\n<td>writing</td>\n<td>响应数据到客户端的数量</td>\n</tr>\n<tr>\n<td>waiting</td>\n<td>开启 keep-alive 的情况下,这个值等于 active – (reading+writing), 意思就是 Nginx 已经处理完正在等候下一次请求指令的存活连接</td>\n</tr>\n</tbody>\n</table>\n","date":"2012-01-04T00:00:00.000Z","title":"Nginx的状态页status详解"},"prevPost":{"summary":null,"tags":["网络"],"id":"gateway-intro","title":"网关介绍","date":"2012-02-29T00:00:00.000Z"},"nextPost":{"summary":null,"tags":["操作系统"],"id":"what-is-thread-safety","title":"什么是线程安全","date":"2012-01-02T00:00:00.000Z"}},"__N_SSG":true}