{"pageProps":{"post":{"summary":null,"tags":["Kafka"],"id":"use-kafka-on-mac-system","contentHtml":"<h2>环境安装</h2>\n<p>在Mac系统上安装最方便的还是使用brew工具命令：</p>\n<pre><code>brew cask install java\nbrew install zookeeper\nbrew install kafka\n</code></pre>\n<h2>安装后的目录</h2>\n<pre><code>二进制文件和脚本文件在 /usr/local/bin 目录下\nKafka 配置文件在 /usr/local/etc/kafka 目录下\nZookeeper 配置文件在 /usr/local/etc/zookeeper 目录下\nlog.dirs(Kafka 的数据目录)被设置为 /usr/local/var/lib/kafka-logs\n</code></pre>\n<h2>配置修改</h2>\n<p>修改 /usr/local/etc/kafka/server.properties 文件，将</p>\n<blockquote>\n<p>#listeners=PLAINTEXT://:9092</p>\n</blockquote>\n<p>修改为</p>\n<blockquote>\n<p>listeners=PLAINTEXT://localhost:9092</p>\n</blockquote>\n<h2>功能验证</h2>\n<h3>启动服务</h3>\n<pre><code>brew services start zookeeper\nbrew services start kafka\n</code></pre>\n<h3>创建Topic</h3>\n<blockquote>\n<p>kafka-topics --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic testkafka</p>\n</blockquote>\n<p>2181是zookeeper使用的端口</p>\n<h3>查看Topic列表</h3>\n<blockquote>\n<p>kafka-topics --list --zookeeper localhost:2181</p>\n</blockquote>\n<h3>生产消息</h3>\n<pre><code>$ kafka-console-producer --broker-list localhost:9092 --topic testkafka\n>hello, kafka!\n</code></pre>\n<h3>消费消息</h3>\n<ol>\n<li>直接消费</li>\n</ol>\n<blockquote>\n<p>kafka-console-consumer --bootstrap-server localhost:9092 --topic testkafka --from-beginning</p>\n</blockquote>\n<ol start=\"2\">\n<li>组(group)消费</li>\n</ol>\n<blockquote>\n<p>kafka-console-consumer --bootstrap-server localhost:9092 --topic testkafka --group test-consumer1 --from-beginning</p>\n</blockquote>\n<h3>关闭服务</h3>\n<pre><code>brew services stop kafka\nbrew services stop zookeeper\n</code></pre>\n","date":"2015-06-05T00:00:00.000Z","title":"在Mac系统上使用Kafka环境"},"prevPost":{"summary":null,"tags":["Kafka"],"id":"concepts-of-kafka","title":"Kafka组件中的常用概念介绍","date":"2015-06-08T00:00:00.000Z"},"nextPost":{"summary":null,"tags":["Golang"],"id":"go-command-line-os-args-flag","title":"Go语言的命令行参数os.Args和flag包","date":"2015-06-01T00:00:00.000Z"}},"__N_SSG":true}